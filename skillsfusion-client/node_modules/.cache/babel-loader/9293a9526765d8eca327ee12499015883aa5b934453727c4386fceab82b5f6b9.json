{"ast":null,"code":"var _jsxFileName = \"L:\\\\Java_Fullstack\\\\Skills-Fusion-Main\\\\skillsfusion-client\\\\src\\\\components\\\\LoginPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Eye, EyeOff } from 'lucide-react';\nimport './FreelanceAuthPages.css';\nimport Box from '@mui/material/Box';\nimport Modal from '@mui/material/Modal';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LoginPage = () => {\n  _s();\n  const [showPassword, setShowPassword] = useState(false);\n  const [displaymodal, setDisplaymodal] = useState(false);\n  const [formData, setFormData] = useState({\n    email: '',\n    password: ''\n  });\n  const [errors, setErrors] = useState({});\n  const navigate = useNavigate();\n  const validateForm = () => {\n    const newErrors = {};\n    const emailPattern = /^[a-zA-Z0-9]+@gmail\\.com$/;\n    if (!formData.email) newErrors.email = 'Email is required';else if (!emailPattern.test(formData.email)) newErrors.email = 'Use format like abc123@gmail.com';\n    if (!formData.password) newErrors.password = 'Password is required';else if (formData.password.length < 8) newErrors.password = 'Minimum 8 characters required';\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n  const handleSubmit = async () => {\n    if (!validateForm()) return;\n    try {\n      const res = await fetch('http://localhost:8081/api/auth/login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(formData)\n      });\n      const data = await res.text();\n      if (res.ok) {\n        // Store authentication state\n        localStorage.setItem('isAuthenticated', 'true');\n        localStorage.setItem('userEmail', formData.email);\n\n        /* ★ 1–3: fetch user record by email and save the id */\n        const userRes = await fetch(`http://localhost:8081/api/auth/email/${formData.email}`);\n        if (userRes.ok) {\n          /* ★ 1 */\n          const userJson = await userRes.json(); /* ★ 2 */\n          localStorage.setItem('userId', userJson.id); /* ★ 3 */\n        }\n        setDisplaymodal(true);\n      } else {\n        alert(data || 'Something went wrong!');\n      }\n    } catch (err) {\n      alert('Server not reachable.');\n      console.error(err);\n    }\n  };\n  const handleModalClose = () => {\n    setDisplaymodal(false);\n    navigate('/');\n  };\n  const style = {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n    width: 350,\n    bgcolor: 'rgb(255, 255, 255)',\n    backdropFilter: 'blur(12px)',\n    WebkitBackdropFilter: 'blur(12px)',\n    border: '1px solid rgba(255, 255, 255, 0.3)',\n    borderRadius: '16px',\n    boxShadow: '0 8px 32px rgba(31, 38, 135, 0.37)',\n    p: 4,\n    textAlign: 'center',\n    color: '#0d47a1'\n  };\n  const buttonStyle = {\n    marginTop: '20px',\n    padding: '10px 20px',\n    background: '#00c6ff',\n    color: 'white',\n    border: 'none',\n    borderRadius: '8px',\n    cursor: 'pointer',\n    fontWeight: 'bold',\n    fontSize: '14px',\n    boxShadow: '0 4px 12px rgba(0,0,0,0.15)',\n    transition: 'background 0.3s ease'\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 5\n  }, this);\n};\n_s(LoginPage, \"Y5/fyrUupfNOkZwWG8ZW+AXiphc=\", false, function () {\n  return [useNavigate];\n});\n_c = LoginPage;\nexport default LoginPage;\nvar _c;\n$RefreshReg$(_c, \"LoginPage\");","map":{"version":3,"names":["React","useState","Eye","EyeOff","Box","Modal","useNavigate","jsxDEV","_jsxDEV","LoginPage","_s","showPassword","setShowPassword","displaymodal","setDisplaymodal","formData","setFormData","email","password","errors","setErrors","navigate","validateForm","newErrors","emailPattern","test","length","Object","keys","handleSubmit","res","fetch","method","headers","body","JSON","stringify","data","text","ok","localStorage","setItem","userRes","userJson","json","id","alert","err","console","error","handleModalClose","style","position","top","left","transform","width","bgcolor","backdropFilter","WebkitBackdropFilter","border","borderRadius","boxShadow","p","textAlign","color","buttonStyle","marginTop","padding","background","cursor","fontWeight","fontSize","transition","className","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["L:/Java_Fullstack/Skills-Fusion-Main/skillsfusion-client/src/components/LoginPage.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Eye, EyeOff } from 'lucide-react';\r\nimport './FreelanceAuthPages.css';\r\nimport Box from '@mui/material/Box';\r\nimport Modal from '@mui/material/Modal';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst LoginPage = () => {\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [displaymodal, setDisplaymodal] = useState(false);\r\n  const [formData, setFormData] = useState({ email: '', password: '' });\r\n  const [errors, setErrors] = useState({});\r\n  const navigate = useNavigate();\r\n\r\n  const validateForm = () => {\r\n    const newErrors = {};\r\n    const emailPattern = /^[a-zA-Z0-9]+@gmail\\.com$/;\r\n    if (!formData.email) newErrors.email = 'Email is required';\r\n    else if (!emailPattern.test(formData.email)) newErrors.email = 'Use format like abc123@gmail.com';\r\n    if (!formData.password) newErrors.password = 'Password is required';\r\n    else if (formData.password.length < 8) newErrors.password = 'Minimum 8 characters required';\r\n\r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    if (!validateForm()) return;\r\n\r\n    try {\r\n      const res = await fetch('http://localhost:8081/api/auth/login', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(formData),\r\n      });\r\n\r\n      const data = await res.text();\r\n      if (res.ok) {\r\n        // Store authentication state\r\n        localStorage.setItem('isAuthenticated', 'true');\r\n        localStorage.setItem('userEmail', formData.email);\r\n\r\n        /* ★ 1–3: fetch user record by email and save the id */\r\n        const userRes = await fetch(`http://localhost:8081/api/auth/email/${formData.email}`);\r\n        if (userRes.ok) {                                   /* ★ 1 */\r\n          const userJson = await userRes.json();            /* ★ 2 */\r\n          localStorage.setItem('userId', userJson.id);      /* ★ 3 */\r\n        }\r\n\r\n        setDisplaymodal(true);\r\n      } else {\r\n        alert(data || 'Something went wrong!');\r\n      }\r\n    } catch (err) {\r\n      alert('Server not reachable.');\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  const handleModalClose = () => {\r\n    setDisplaymodal(false);\r\n    navigate('/'); \r\n  };\r\n\r\n  const style = {\r\n    position: 'absolute', top: '50%', left: '50%', transform: 'translate(-50%, -50%)',\r\n    width: 350, bgcolor: 'rgb(255, 255, 255)', backdropFilter: 'blur(12px)',\r\n    WebkitBackdropFilter: 'blur(12px)', border: '1px solid rgba(255, 255, 255, 0.3)',\r\n    borderRadius: '16px', boxShadow: '0 8px 32px rgba(31, 38, 135, 0.37)', p: 4,\r\n    textAlign: 'center', color: '#0d47a1',\r\n  };\r\n\r\n  const buttonStyle = {\r\n    marginTop: '20px', padding: '10px 20px', background: '#00c6ff', color: 'white',\r\n    border: 'none', borderRadius: '8px', cursor: 'pointer', fontWeight: 'bold',\r\n    fontSize: '14px', boxShadow: '0 4px 12px rgba(0,0,0,0.15)', transition: 'background 0.3s ease',\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      {/* … (the rest of your JSX remains exactly the same) … */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}